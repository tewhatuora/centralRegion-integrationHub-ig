{
  "resourceType": "StructureDefinition",
  "id": "NZCentralRegionPatient",
  "url": "https://fhir.org.nz/ig/tewhatuora/crih-fhir-ig/StructureDefinition/NZCentralRegionPatient",
  "version": "0.1.0",
  "name": "NZCentralRegionPatient",
  "status": "active",
  "description": "Patient resource for Te Whatu Ora, Central Region",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "loinc",
      "uri": "http://loinc.org",
      "name": "LOINC code for the element"
    },
    {
      "identity": "nzcr-patient-from-hl7v2",
      "name": "Central Region Message Specification (1.14)",
      "uri": "https://standards.digital.health.nz/ns/central-region/hl7-v2"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Patient",
  "baseDefinition": "http://hl7.org.nz/fhir/StructureDefinition/NzPatient",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Patient",
        "path": "Patient",
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "Patient"
          }
        ]
      },
      {
        "id": "Patient.implicitRules",
        "path": "Patient.implicitRules",
        "max": "0"
      },
      {
        "id": "Patient.language",
        "path": "Patient.language",
        "max": "0"
      },
      {
        "id": "Patient.contained",
        "path": "Patient.contained",
        "max": "0"
      },
      {
        "id": "Patient.extension",
        "path": "Patient.extension",
        "min": 1
      },
      {
        "id": "Patient.extension:ethnicity",
        "path": "Patient.extension",
        "sliceName": "ethnicity",
        "short": "Two codings required: Level-2 codes as provided by WebPAS and Level-4 codes as preferred by NZ Base",
        "max": "3",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-22, PID-10",
            "comment": "Repeat for each entry in PID-22.\r\nTwo coding entries, one each for\r\n * https://standards.digital.health.nz/ns/ethnic-group-level-4-code and\r\n * https://standards.digital.health.nz/ns/ethnic-group-level-2-code\r\nNote: May have to check *primary* ethnicity in PID-10 as well"
          }
        ]
      },
      {
        "id": "Patient.extension:ethnicity.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept",
        "path": "Patient.extension.valueCodeableConcept"
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.extension",
        "path": "Patient.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding",
        "path": "Patient.extension.valueCodeableConcept.coding",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding.system",
        "path": "Patient.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/ethnic-group-level-4-code and https://standards.digital.health.nz/ns/ethnic-group-level-2-code"
          }
        ]
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding.version",
        "path": "Patient.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding.code",
        "path": "Patient.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-22.1",
            "comment": "Which is group-level-2; lookup required for group-level-4.  ConceptMap ?"
          }
        ]
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding.display",
        "path": "Patient.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-22.2",
            "comment": "Check for macrons in Māori and Cook Island Māori"
          }
        ]
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:ethnicity.valueCodeableConcept.text",
        "path": "Patient.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen",
        "path": "Patient.extension",
        "sliceName": "nzCitizen",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-26",
            "comment": "Only using status, source not availabnle"
          }
        ]
      },
      {
        "id": "Patient.extension:nzCitizen.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension",
        "path": "Patient.extension.extension",
        "min": 1
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status",
        "path": "Patient.extension.extension",
        "sliceName": "status",
        "short": "Is this person a New Zealand citizen? CodeableConcept: yes / no / unknown",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.id",
        "path": "Patient.extension.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept",
        "path": "Patient.extension.extension.valueCodeableConcept"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.id",
        "path": "Patient.extension.extension.valueCodeableConcept.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.extension",
        "path": "Patient.extension.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding",
        "path": "Patient.extension.extension.valueCodeableConcept.coding",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding.system",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/nz-citizenship-status-code"
          }
        ]
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding.version",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding.code",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-26.1",
            "comment": "if PID-26.1 = 'Y' then 'yes'\nelif PID-26.1='N' then 'no'\nelse 'unknown'"
          }
        ]
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding.display",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-26.1",
            "comment": "if PID-26.1 = 'Y' then 'Yes'\nelif PID-26.1='N' then 'No'\nelse 'Unknown'"
          }
        ]
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:status.valueCodeableConcept.text",
        "path": "Patient.extension.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzCitizen.extension:source",
        "path": "Patient.extension.extension",
        "sliceName": "source",
        "max": "0"
      },
      {
        "id": "Patient.extension:dhb",
        "path": "Patient.extension",
        "sliceName": "dhb",
        "mustSupport": true
      },
      {
        "id": "Patient.extension:dhb.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept",
        "path": "Patient.extension.valueCodeableConcept",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.extension",
        "path": "Patient.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding",
        "path": "Patient.extension.valueCodeableConcept.coding",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding.system",
        "path": "Patient.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/dhb-code"
          }
        ]
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding.version",
        "path": "Patient.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding.code",
        "path": "Patient.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-12",
            "comment": "one-to-many mapping from PID-12. Perhaps with ConceptMap ??"
          }
        ]
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding.display",
        "path": "Patient.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:dhb.valueCodeableConcept.text",
        "path": "Patient.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:domicile-code",
        "path": "Patient.extension",
        "sliceName": "domicile-code",
        "mustSupport": true
      },
      {
        "id": "Patient.extension:domicile-code.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept",
        "path": "Patient.extension.valueCodeableConcept"
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.extension",
        "path": "Patient.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding",
        "path": "Patient.extension.valueCodeableConcept.coding",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding.system",
        "path": "Patient.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/domicile-code"
          }
        ]
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding.version",
        "path": "Patient.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding.code",
        "path": "Patient.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-12"
          }
        ]
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding.display",
        "path": "Patient.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:domicile-code.valueCodeableConcept.text",
        "path": "Patient.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:pho",
        "path": "Patient.extension",
        "sliceName": "pho",
        "max": "0"
      },
      {
        "id": "Patient.extension:sex-at-birth",
        "path": "Patient.extension",
        "sliceName": "sex-at-birth",
        "max": "0"
      },
      {
        "id": "Patient.extension:iwi",
        "path": "Patient.extension",
        "sliceName": "iwi",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency",
        "path": "Patient.extension",
        "sliceName": "nzResidency",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org.nz/fhir/StructureDefinition/nz-residency"
            ]
          }
        ],
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-28",
            "comment": "Only using status, source not availabnle"
          }
        ]
      },
      {
        "id": "Patient.extension:nzResidency.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status",
        "path": "Patient.extension.extension",
        "sliceName": "status",
        "short": "Two codings possible:  'yes|no' from NZ Base, and more detailed as available from WebPAS"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.id",
        "path": "Patient.extension.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept",
        "path": "Patient.extension.extension.valueCodeableConcept"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.id",
        "path": "Patient.extension.extension.valueCodeableConcept.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.extension",
        "path": "Patient.extension.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding",
        "path": "Patient.extension.extension.valueCodeableConcept.coding",
        "short": "Two codings possible 'yes|no' from NZ Base, and more detailed as available from WebPAS",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "Repeat for each coding"
          }
        ]
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding.system",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/central-region/nz-residency-code AND\r\n\nhttps://standards.digital.health.nz/ns/nz-residency-code"
          }
        ]
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding.version",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding.code",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-28.1",
            "comment": "Raw value and mapped from webPAS residency status.  ConceptMap ?'"
          }
        ]
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding.display",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-28.2",
            "comment": "Raw value and mapped from webPAS residency status."
          }
        ]
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:status.valueCodeableConcept.text",
        "path": "Patient.extension.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:nzResidency.extension:source",
        "path": "Patient.extension.extension",
        "sliceName": "source",
        "max": "0"
      },
      {
        "id": "Patient.extension:patient-religion",
        "path": "Patient.extension",
        "sliceName": "patient-religion",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/patient-religion"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Patient.extension:patient-religion.id",
        "path": "Patient.extension.id",
        "max": "0"
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept",
        "path": "Patient.extension.valueCodeableConcept",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.extension",
        "path": "Patient.extension.valueCodeableConcept.extension",
        "max": "0"
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding",
        "path": "Patient.extension.valueCodeableConcept.coding",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding.system",
        "path": "Patient.extension.valueCodeableConcept.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/central-region/patient-religion"
          }
        ]
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding.version",
        "path": "Patient.extension.valueCodeableConcept.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding.code",
        "path": "Patient.extension.valueCodeableConcept.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-17.1"
          }
        ]
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding.display",
        "path": "Patient.extension.valueCodeableConcept.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-17.2"
          }
        ]
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.coding.userSelected",
        "path": "Patient.extension.valueCodeableConcept.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.extension:patient-religion.valueCodeableConcept.text",
        "path": "Patient.extension.valueCodeableConcept.text",
        "max": "0"
      },
      {
        "id": "Patient.extension:interpreterRequired",
        "path": "Patient.extension",
        "sliceName": "interpreterRequired",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/StructureDefinition/patient-interpreterRequired"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Patient.extension:interpreterRequired.valueBoolean",
        "path": "Patient.extension.valueBoolean",
        "min": 1,
        "max": "1",
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-15.4",
            "comment": "if PID-15.4='Y' then 'true' else 'false'"
          }
        ]
      },
      {
        "id": "Patient.extension:hl7v2-message",
        "path": "Patient.extension",
        "sliceName": "hl7v2-message",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://standards.digital.health.nz/ns/central-region/hl7-message"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Patient.identifier",
        "path": "Patient.identifier",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.id",
        "path": "Patient.identifier.id",
        "max": "0"
      },
      {
        "id": "Patient.identifier.extension",
        "path": "Patient.identifier.extension",
        "max": "0"
      },
      {
        "id": "Patient.identifier.use",
        "path": "Patient.identifier.use",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'usual'",
            "comment": "if PID-3.4.2 == '2.16.840.1.113883.2.18.2'"
          }
        ]
      },
      {
        "id": "Patient.identifier.type",
        "path": "Patient.identifier.type",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.type.coding",
        "path": "Patient.identifier.type.coding",
        "mustSupport": true
      },
      {
        "id": "Patient.identifier.type.coding.system",
        "path": "Patient.identifier.type.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'http://terminology.hl7.org/CodeSystem/v2-0203'",
            "comment": "if PID-3.4.2 == '2.16.840.1.113883.2.18.2'"
          }
        ]
      },
      {
        "id": "Patient.identifier.type.coding.code",
        "path": "Patient.identifier.type.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'MR'",
            "comment": "if PID-3.4.2 == '2.16.840.1.113883.2.18.2'"
          }
        ]
      },
      {
        "id": "Patient.identifier.type.coding.display",
        "path": "Patient.identifier.type.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'Medical record number'",
            "comment": "if PID-3.4.2 == '2.16.840.1.113883.2.18.2'"
          }
        ]
      },
      {
        "id": "Patient.identifier.system",
        "path": "Patient.identifier.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'https://standards.digital.health.nz/ns/nhi-id'",
            "comment": "if PID-3.4.2 == '2.16.840.1.113883.2.18.2'"
          }
        ]
      },
      {
        "id": "Patient.identifier.value",
        "path": "Patient.identifier.value",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-3.1"
          }
        ]
      },
      {
        "id": "Patient.identifier.period",
        "path": "Patient.identifier.period",
        "max": "0"
      },
      {
        "id": "Patient.identifier.assigner",
        "path": "Patient.identifier.assigner",
        "max": "0"
      },
      {
        "id": "Patient.identifier:NHI",
        "path": "Patient.identifier",
        "sliceName": "NHI"
      },
      {
        "id": "Patient.identifier:NHI.id",
        "path": "Patient.identifier.id",
        "max": "0"
      },
      {
        "id": "Patient.identifier:NHI.extension",
        "path": "Patient.identifier.extension",
        "max": "0"
      },
      {
        "id": "Patient.identifier:NHI.use",
        "path": "Patient.identifier.use",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier:NHI.type",
        "path": "Patient.identifier.type",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier:NHI.system",
        "path": "Patient.identifier.system",
        "mustSupport": true
      },
      {
        "id": "Patient.identifier:NHI.value",
        "path": "Patient.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.identifier:NHI.period",
        "path": "Patient.identifier.period",
        "max": "0"
      },
      {
        "id": "Patient.identifier:NHI.assigner",
        "path": "Patient.identifier.assigner",
        "max": "0"
      },
      {
        "id": "Patient.active",
        "path": "Patient.active",
        "max": "0"
      },
      {
        "id": "Patient.name",
        "path": "Patient.name",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-5 and PID-9",
            "comment": "Repeat for PID-5 Patient Name and PID-9 Patient Aliases"
          }
        ]
      },
      {
        "id": "Patient.name.id",
        "path": "Patient.name.id",
        "max": "0"
      },
      {
        "id": "Patient.name.extension",
        "path": "Patient.name.extension",
        "max": "0"
      },
      {
        "id": "Patient.name.use",
        "path": "Patient.name.use",
        "short": "one of: official / nickname",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'official' | 'nickname'",
            "comment": "if mapping PID-5 then 'official' elif mapping PID-9 then 'nickname'"
          }
        ]
      },
      {
        "id": "Patient.name.text",
        "path": "Patient.name.text",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-5.5 + ' ' + PID-5.2 + ' ' + PID-5.3 + ' ' + PID-5.1 or PID-9.5 + ' ' + PID-9.2 + ' ' + PID-9.3 + ' ' + PID-9.1"
          }
        ]
      },
      {
        "id": "Patient.name.family",
        "path": "Patient.name.family",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-5.1 or PID-9.1"
          }
        ]
      },
      {
        "id": "Patient.name.given",
        "path": "Patient.name.given",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-5.2 or PID-9.2 and PID-5.3 or PID-9.3",
            "comment": "PID-5.2 and PID-9.2 -> name.given[0] AND\r\n\nPID-5.3 and PID-9.3 -> name.given[1]\r\n\nDo NOT attempt to separate middle names"
          }
        ]
      },
      {
        "id": "Patient.name.prefix",
        "path": "Patient.name.prefix",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-5.5 or PID-9.5"
          }
        ]
      },
      {
        "id": "Patient.name.suffix",
        "path": "Patient.name.suffix",
        "max": "0"
      },
      {
        "id": "Patient.telecom",
        "path": "Patient.telecom",
        "min": 1,
        "max": "3",
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-13 and PID-14",
            "comment": "Repeat for PID-13 and PID-14"
          }
        ]
      },
      {
        "id": "Patient.telecom.id",
        "path": "Patient.telecom.id",
        "max": "0"
      },
      {
        "id": "Patient.telecom.extension",
        "path": "Patient.telecom.extension",
        "max": "0"
      },
      {
        "id": "Patient.telecom.extension:cp-purpose",
        "path": "Patient.telecom.extension",
        "sliceName": "cp-purpose",
        "max": "0"
      },
      {
        "id": "Patient.telecom.system",
        "path": "Patient.telecom.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-13.3 or PID-14.3",
            "comment": "if 'PH' then '**phone**'\r\n\nif 'FX' then '**fax**'\r\n\nif 'CP' then '**sms**'\r\n\nif 'BP' then '**pager**'\r\n\nif 'NET' then '**email**'\r\n\n\nNote: If only one phone entry with type '**CP**' then use '**phone**'"
          }
        ]
      },
      {
        "id": "Patient.telecom.value",
        "path": "Patient.telecom.value",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-13.1 or PID-14.1"
          }
        ]
      },
      {
        "id": "Patient.telecom.use",
        "path": "Patient.telecom.use",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'home' | 'work'",
            "comment": "if mapping PID-13 then '**home**'\r\n elif mapping PID-14 then '**work**'"
          }
        ]
      },
      {
        "id": "Patient.telecom.rank",
        "path": "Patient.telecom.rank",
        "max": "0"
      },
      {
        "id": "Patient.telecom.period",
        "path": "Patient.telecom.period",
        "max": "0"
      },
      {
        "id": "Patient.gender",
        "path": "Patient.gender",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-8",
            "comment": "if PID-8 == '**F**' then '**female**'\r\n\nelif PID-8 == '**M**' then '**male**'\r\n\nelif PIF-8 == '**U**' then '**unknown**'"
          }
        ]
      },
      {
        "id": "Patient.birthDate",
        "path": "Patient.birthDate",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-7"
          }
        ]
      },
      {
        "id": "Patient.deceased[x]",
        "path": "Patient.deceased[x]",
        "slicing": {
          "discriminator": [
            {
              "type": "type",
              "path": "$this"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "short": "deceasedBoolean = true if patient is deceased and deceased date/time is unknown, deceasedDateTime if known",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.deceasedDateTime",
        "path": "Patient.deceasedDateTime",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-29",
            "comment": "if known"
          }
        ]
      },
      {
        "id": "Patient.deceasedBoolean",
        "path": "Patient.deceasedBoolean",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ],
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-30"
          }
        ]
      },
      {
        "id": "Patient.address",
        "path": "Patient.address",
        "mustSupport": true
      },
      {
        "id": "Patient.address.id",
        "path": "Patient.address.id",
        "max": "0"
      },
      {
        "id": "Patient.address.extension:nz-geocode",
        "path": "Patient.address.extension",
        "sliceName": "nz-geocode",
        "max": "0"
      },
      {
        "id": "Patient.address.extension:suburb",
        "path": "Patient.address.extension",
        "sliceName": "suburb",
        "mustSupport": true
      },
      {
        "id": "Patient.address.extension:suburb.valueString",
        "path": "Patient.address.extension.valueString",
        "min": 0,
        "max": "1",
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.8",
            "comment": "if present"
          }
        ]
      },
      {
        "id": "Patient.address.extension:building-name",
        "path": "Patient.address.extension",
        "sliceName": "building-name",
        "max": "0"
      },
      {
        "id": "Patient.address.extension:domicile-code",
        "path": "Patient.address.extension",
        "sliceName": "domicile-code",
        "max": "0"
      },
      {
        "id": "Patient.address.use",
        "path": "Patient.address.use",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'home' | 'work'",
            "comment": "if PID-11.7 == 'C' then 'home'\r\n\nelif PID 11.7 == 'B' then 'work'"
          }
        ]
      },
      {
        "id": "Patient.address.type",
        "path": "Patient.address.type",
        "short": "Fixed value: postal",
        "min": 1,
        "patternCode": "postal",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'postal'"
          }
        ]
      },
      {
        "id": "Patient.address.text",
        "path": "Patient.address.text",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.1 + ' ' + PID-11.2 + ' ' + PID-11.8 + ' ' + PID-11.3 + ' '+ PID-11.4 + ' '+ PID-11.5"
          }
        ]
      },
      {
        "id": "Patient.address.line",
        "path": "Patient.address.line",
        "max": "1",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.1 and PID-11.2",
            "comment": "if present, repeat as required"
          }
        ]
      },
      {
        "id": "Patient.address.city",
        "path": "Patient.address.city",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.3"
          }
        ]
      },
      {
        "id": "Patient.address.district",
        "path": "Patient.address.district",
        "max": "0"
      },
      {
        "id": "Patient.address.state",
        "path": "Patient.address.state",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.4",
            "comment": "if present"
          }
        ]
      },
      {
        "id": "Patient.address.postalCode",
        "path": "Patient.address.postalCode",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.5",
            "comment": "if present"
          }
        ]
      },
      {
        "id": "Patient.address.country",
        "path": "Patient.address.country",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-11.6",
            "comment": "if present"
          }
        ]
      },
      {
        "id": "Patient.address.period",
        "path": "Patient.address.period",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus",
        "path": "Patient.maritalStatus",
        "min": 1,
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "https://standards.digital.health.nz/fhir/central-region/ValueSet-marital-status"
        }
      },
      {
        "id": "Patient.maritalStatus.id",
        "path": "Patient.maritalStatus.id",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.extension",
        "path": "Patient.maritalStatus.extension",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.coding",
        "path": "Patient.maritalStatus.coding",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.maritalStatus.coding.id",
        "path": "Patient.maritalStatus.coding.id",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.coding.extension",
        "path": "Patient.maritalStatus.coding.extension",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.coding.system",
        "path": "Patient.maritalStatus.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "http://terminology.hl7.org/CodeSystem/v3-MaritalStatus or https://standards.digital.health.nz/ns/central-region/extra-marital-status",
            "comment": "*Note:* We have extended v3-MaritalStatus with extra values"
          }
        ]
      },
      {
        "id": "Patient.maritalStatus.coding.version",
        "path": "Patient.maritalStatus.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.coding.code",
        "path": "Patient.maritalStatus.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-16.1"
          }
        ]
      },
      {
        "id": "Patient.maritalStatus.coding.display",
        "path": "Patient.maritalStatus.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-16.2"
          }
        ]
      },
      {
        "id": "Patient.maritalStatus.coding.userSelected",
        "path": "Patient.maritalStatus.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.maritalStatus.text",
        "path": "Patient.maritalStatus.text",
        "max": "0"
      },
      {
        "id": "Patient.multipleBirth[x]",
        "path": "Patient.multipleBirth[x]",
        "max": "0"
      },
      {
        "id": "Patient.photo",
        "path": "Patient.photo",
        "max": "0"
      },
      {
        "id": "Patient.contact",
        "path": "Patient.contact",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1",
            "comment": "Repeat for each NK1 segment"
          }
        ]
      },
      {
        "id": "Patient.contact.id",
        "path": "Patient.contact.id",
        "max": "0"
      },
      {
        "id": "Patient.contact.extension",
        "path": "Patient.contact.extension",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship",
        "path": "Patient.contact.relationship",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Patient.contact.relationship.id",
        "path": "Patient.contact.relationship.id",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.extension",
        "path": "Patient.contact.relationship.extension",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.coding",
        "path": "Patient.contact.relationship.coding",
        "short": "One each for\r\n * http://terminology.hl7.org/CodeSystem/v2-0131 AND\r\n * https://standards.digital.health.nz/ns/central-region/contact-relationship",
        "min": 2,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1",
            "comment": "At least two codings:\r\n * http://terminology.hl7.org/CodeSystem/v2-0131 AND\r\n * https://standards.digital.health.nz/ns/central-region/contact-relationship"
          }
        ]
      },
      {
        "id": "Patient.contact.relationship.coding.id",
        "path": "Patient.contact.relationship.coding.id",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.coding.extension",
        "path": "Patient.contact.relationship.coding.extension",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.coding.system",
        "path": "Patient.contact.relationship.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/central-region/contact-relationship OR\r\nhttp://terminology.hl7.org/CodeSystem/v2-0131"
          }
        ]
      },
      {
        "id": "Patient.contact.relationship.coding.version",
        "path": "Patient.contact.relationship.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.coding.code",
        "path": "Patient.contact.relationship.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-3.1",
            "comment": "Raw value in one entry, lookup to HL7 base value in the other.  ConceptMap ?"
          }
        ]
      },
      {
        "id": "Patient.contact.relationship.coding.display",
        "path": "Patient.contact.relationship.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-3.2"
          }
        ]
      },
      {
        "id": "Patient.contact.relationship.coding.userSelected",
        "path": "Patient.contact.relationship.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.contact.relationship.text",
        "path": "Patient.contact.relationship.text",
        "max": "0"
      },
      {
        "id": "Patient.contact.name",
        "path": "Patient.contact.name",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.contact.name.id",
        "path": "Patient.contact.name.id",
        "max": "0"
      },
      {
        "id": "Patient.contact.name.extension",
        "path": "Patient.contact.name.extension",
        "max": "0"
      },
      {
        "id": "Patient.contact.name.use",
        "path": "Patient.contact.name.use",
        "max": "0"
      },
      {
        "id": "Patient.contact.name.text",
        "path": "Patient.contact.name.text",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-2.5 + ' ' + NK1-2.1 + ' 'NK1-2.2 + '"
          }
        ]
      },
      {
        "id": "Patient.contact.name.family",
        "path": "Patient.contact.name.family",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-2.1"
          }
        ]
      },
      {
        "id": "Patient.contact.name.given",
        "path": "Patient.contact.name.given",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-2.2"
          }
        ]
      },
      {
        "id": "Patient.contact.name.prefix",
        "path": "Patient.contact.name.prefix",
        "max": "1",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-2.5",
            "comment": "if present"
          }
        ]
      },
      {
        "id": "Patient.contact.name.suffix",
        "path": "Patient.contact.name.suffix",
        "max": "0"
      },
      {
        "id": "Patient.contact.telecom",
        "path": "Patient.contact.telecom",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1",
            "comment": "Repeat for NK1-5 and NK1-6"
          }
        ]
      },
      {
        "id": "Patient.contact.telecom.id",
        "path": "Patient.contact.telecom.id",
        "max": "0"
      },
      {
        "id": "Patient.contact.telecom.extension",
        "path": "Patient.contact.telecom.extension",
        "max": "0"
      },
      {
        "id": "Patient.contact.telecom.system",
        "path": "Patient.contact.telecom.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-5.3 or NK1-6.3",
            "comment": "if 'PH' then '**phone**'\r\n\nif 'FX' then '**fax**'\r\n\nif 'CP' then '**sms**'\r\n\nif 'BP' then '**pager**'\r\n\nif 'NET' then '**email**'\r\n\n\nNote: If only one phone entry with type '**CP**' then use '**phone**'"
          }
        ]
      },
      {
        "id": "Patient.contact.telecom.value",
        "path": "Patient.contact.telecom.value",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "NK1-5.1 or NK1-6.1"
          }
        ]
      },
      {
        "id": "Patient.contact.telecom.use",
        "path": "Patient.contact.telecom.use",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'home' | 'work'",
            "comment": "if mapping NK1-5 then '**home**'\r\n elif mapping NK1-6 then '**work**'"
          }
        ]
      },
      {
        "id": "Patient.contact.telecom.rank",
        "path": "Patient.contact.telecom.rank",
        "max": "0"
      },
      {
        "id": "Patient.contact.address",
        "path": "Patient.contact.address",
        "max": "0"
      },
      {
        "id": "Patient.contact.gender",
        "path": "Patient.contact.gender",
        "max": "0"
      },
      {
        "id": "Patient.contact.organization",
        "path": "Patient.contact.organization",
        "max": "0"
      },
      {
        "id": "Patient.contact.period",
        "path": "Patient.contact.period",
        "mustSupport": true
      },
      {
        "id": "Patient.communication",
        "path": "Patient.communication",
        "mustSupport": true
      },
      {
        "id": "Patient.communication.id",
        "path": "Patient.communication.id",
        "max": "0"
      },
      {
        "id": "Patient.communication.extension",
        "path": "Patient.communication.extension",
        "max": "0"
      },
      {
        "id": "Patient.communication.language",
        "path": "Patient.communication.language",
        "mustSupport": true
      },
      {
        "id": "Patient.communication.language.id",
        "path": "Patient.communication.language.id",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.extension",
        "path": "Patient.communication.language.extension",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.coding",
        "path": "Patient.communication.language.coding",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.communication.language.coding.id",
        "path": "Patient.communication.language.coding.id",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.coding.extension",
        "path": "Patient.communication.language.coding.extension",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.coding.system",
        "path": "Patient.communication.language.coding.system",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "urn:ietf:bcp:47",
            "comment": "ietf:bcp:47 includes all iso-639 language codes"
          }
        ]
      },
      {
        "id": "Patient.communication.language.coding.version",
        "path": "Patient.communication.language.coding.version",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.coding.code",
        "path": "Patient.communication.language.coding.code",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-15.1"
          }
        ]
      },
      {
        "id": "Patient.communication.language.coding.display",
        "path": "Patient.communication.language.coding.display",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PID-15.2"
          }
        ]
      },
      {
        "id": "Patient.communication.language.coding.userSelected",
        "path": "Patient.communication.language.coding.userSelected",
        "max": "0"
      },
      {
        "id": "Patient.communication.language.text",
        "path": "Patient.communication.language.text",
        "max": "0"
      },
      {
        "id": "Patient.communication.preferred",
        "path": "Patient.communication.preferred",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.generalPractitioner",
        "path": "Patient.generalPractitioner",
        "max": "1",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PD1-4",
            "comment": "Lookup using PD1-4.1 (local identifier) ??"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.id",
        "path": "Patient.generalPractitioner.id",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.extension",
        "path": "Patient.generalPractitioner.extension",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.reference",
        "path": "Patient.generalPractitioner.reference",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "n/a",
            "comment": "Internal GUID"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.type",
        "path": "Patient.generalPractitioner.type",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'Practitioner'"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.identifier",
        "path": "Patient.generalPractitioner.identifier",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Patient.generalPractitioner.identifier.id",
        "path": "Patient.generalPractitioner.identifier.id",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.identifier.extension",
        "path": "Patient.generalPractitioner.identifier.extension",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.identifier.use",
        "path": "Patient.generalPractitioner.identifier.use",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "'usual'"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.identifier.type",
        "path": "Patient.generalPractitioner.identifier.type",
        "max": "0",
        "mustSupport": true
      },
      {
        "id": "Patient.generalPractitioner.identifier.system",
        "path": "Patient.generalPractitioner.identifier.system",
        "min": 1,
        "patternUri": "https://standards.digital.health.nz/ns/pas-practitioner-id",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "https://standards.digital.health.nz/ns/pas-practitioner-id",
            "comment": "if PD1-4.9.2 == '2.16.840.1.113883.2.18.66.3.2.0'"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.identifier.value",
        "path": "Patient.generalPractitioner.identifier.value",
        "min": 1,
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PD1-4.1"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner.identifier.period",
        "path": "Patient.generalPractitioner.identifier.period",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.identifier.assigner",
        "path": "Patient.generalPractitioner.identifier.assigner",
        "max": "0"
      },
      {
        "id": "Patient.generalPractitioner.display",
        "path": "Patient.generalPractitioner.display",
        "mustSupport": true,
        "mapping": [
          {
            "identity": "nzcr-patient-from-hl7v2",
            "map": "PD1-4.2 + ', ' + PD1-4.3 + ' ' + PD1-4.4 + '  + PD1=4.6"
          }
        ]
      },
      {
        "id": "Patient.managingOrganization",
        "path": "Patient.managingOrganization",
        "max": "0"
      },
      {
        "id": "Patient.link",
        "path": "Patient.link",
        "mustSupport": true
      },
      {
        "id": "Patient.link.id",
        "path": "Patient.link.id",
        "max": "0"
      },
      {
        "id": "Patient.link.extension",
        "path": "Patient.link.extension",
        "max": "0"
      },
      {
        "id": "Patient.link.other",
        "path": "Patient.link.other",
        "mustSupport": true
      },
      {
        "id": "Patient.link.type",
        "path": "Patient.link.type",
        "short": "replaced-by | replaces",
        "mustSupport": true
      }
    ]
  }
}
